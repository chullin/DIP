###### tags: `DIP`

### 大家好，我要報告的是影像處理的特效

# 第二頁
### 這是我報告的順序，先是魚眼特效成果展示與講解，再來是油畫成果展示與講解，最後是呈現我將兩個特效疊加的成品


# 第四頁
### 上圖是原圖，下圖是用了魚眼特效做出來的效果，接下來是講解程式碼的部分


# 第五頁
### 為了引用方便，我將特效都寫成函數
### 接著做出一個與原圖一樣大的形狀
### 接著找圖片的中心點，也就是針對一張圖片的中心做魚眼的效果


# 第六頁
### 接著利用兩個 for 迴圈遍歷整張圖片
### 讓圖片的每個點與中心利用畢氏定理求距離
### 這樣就會得到一個距離平方與距離

### 然後假設一個長方形 長為 15公分  寬為20公分
### 那就會找出短邊，也就是15公分的一半 作為圓形半徑
### 然後圓心就是在 ( 7.5, 10 )的位置

# 第七頁
### 然後先將原來的圖片印到一開始製作的空白容器
### 接著判斷如果是在圓形裡面的點就做形變的動作

### 現在有一個點在圓心內，就可以利用半徑與點到圓心距離的比例，去做形變
### 接著將點的 x 軸與 y 軸
### 各別乘上剛剛求出的比例
### 最後將得到新的距離丟回新圖片裡，就完成了

# 第九頁
### 這是用油畫特效做出來的效果，而油畫的演算法是對每個點去做運算，所以建議先將圖片的大小用 resize 縮小再做執行動作

# 第十頁
### 先將圖片大小做成 250 x 350
### 然後弄成灰階圖片
### 做一個大小為 imgOriginal 的容器

# 第十一頁
```
for i in range(4,height-4):    
# range(start, end) 會數到 end-1

    for j in range(4,width-4):    
    # 接著使用兩個 for 迴圈遍歷整張圖片
    
        arr = np.zeros(8,np.uint8)  
        # 然後做一個有8個0的 array[0,0,0,0,0,0,0,0] 空陣列
        
        for m in range(-4,4):	 
        # 然後這兩個 for 迴圈是將圖片劃分為8*8的方塊
            for n in range(-4,4):
                p1 = int(gray[i+m,j+n]/32) 
                # 將灰階像素值(256)劃分为8個等级，因為灰階圖像素值是0~255，
                # 所以每個區段就有32個數值
		 # 所以 p1 就會代表  0~7
                arr[p1] += 1
                # 將被分為8等分的 gray 分別放置 arr[] 裡面
        
        currentMax = arr[0]    
        # 設個旗標
        l = 0
        for k in range(8):	
            if currentMax < arr[k]:  
            # 然後利用 for 加 if ，找出 array 裡面最大的值
                currentMax = arr[k]
                l = k


```
# 第十二頁
### 簡化、 均值
### 最後是將前面拆成8 * 8 的方塊，依序比對，介於每個區段間的值就會變成 b,g,r
### 所以意思就是，會將每個區段內的值變成一個
### 例如 
### 0   ~ 31  變成 25
### 96  ~ 128 變成 100 以此類推

# 第十三頁
### 接著是成品展示



